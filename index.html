<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Birthday Surprise üíñ</title>

<style>
body{
    margin:0;
    font-family:Arial,sans-serif;
    background:linear-gradient(120deg,#ffe6f0,#fff);
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
}

.card{
    background:white;
    width:350px;
    padding:20px;
    border-radius:20px;
    text-align:center;
    box-shadow:0 20px 40px rgba(0,0,0,.15);
    z-index:5;
}

h1{color:#ff4081}

.countdown{
    display:flex;
    justify-content:space-between;
    margin:15px 0;
}

.time{
    background:#ff4081;
    color:white;
    padding:10px;
    border-radius:12px;
    width:65px;
}

button{
    background:#ff4081;
    color:white;
    border:none;
    padding:12px 20px;
    border-radius:25px;
    font-size:16px;
    cursor:pointer;
}

/* Effects */
.confetti,.sparkle,.balloon,.heart{
    position:fixed;
    pointer-events:none;
    z-index:9999;
}

.confetti{
    width:10px;
    height:10px;
    top:-10px;
    animation:fall 3s linear forwards;
}
@keyframes fall{
    to{transform:translateY(110vh) rotate(360deg);opacity:0}
}

.sparkle{
    width:4px;
    height:4px;
    background:yellow;
    border-radius:50%;
    animation:spark 1.5s infinite;
}
@keyframes spark{
    50%{opacity:.3;transform:scale(1.5)}
}

.balloon{
    width:40px;
    height:60px;
    background:red;
    border-radius:50%;
    bottom:-60px;
    animation:rise 8s linear forwards;
}
@keyframes rise{
    to{transform:translateY(-120vh)}
}

/* Cake */
#cake{
    display:none;
    width:150px;
    margin:15px auto;
}

/* Slideshow */
.slideshow{
    display:none;
    position:relative;
    height:220px;
    margin-top:15px;
}
.slideshow img{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
    object-fit:cover;
    border-radius:15px;
    opacity:0;
    transition:opacity 1s;
}
.slideshow img.active{opacity:1}

/* Envelope */
#envelope{
    display:none;
    background:#fff0f5;
    border:2px dashed #ffb6c1;
    border-radius:15px;
    padding:15px;
    margin-top:15px;
    max-height:250px;
    overflow-y:auto;
    transform:scaleY(0);
    transform-origin:top;
    transition:transform 1s ease;
}
</style>
</head>

<body>

<audio id="music" loop>
<source src="./love.mp3" type="audio/mpeg">
</audio>

<div class="card">
<h1 id="title">Someone is turning 18 ü•π‚ù§Ô∏è</h1>

<div class="countdown">
<div class="time"><span id="d">0</span>d</div>
<div class="time"><span id="h">0</span>h</div>
<div class="time"><span id="m">0</span>m</div>
<div class="time"><span id="s">0</span>s</div>
</div>

<button id="btn">Wait ‚è≥</button>

<img id="cake" src="./cake.png">

<div class="slideshow">
<img src="./Img1.jpg" class="active">
<img src="./Img2.jpg">
<img src="./Img3.jpg">
<img src="./Img4.jpg">
</div>

<div id="envelope"></div>
</div>

<script>
const btn=document.getElementById("btn");
const title=document.getElementById("title");
const music=document.getElementById("music");
const cake=document.getElementById("cake");
const slideshow=document.querySelector(".slideshow");
const slides=document.querySelectorAll(".slideshow img");
const envelope=document.getElementById("envelope");

let step=0,slide=0;

/* Countdown FIXED */
const birthday=new Date("2024-01-01").getTime();
setInterval(()=>{
    const now=Date.now();
    if(now>=birthday){
        btn.disabled=false;
        btn.innerText="Click me üéâ";
    }
},1000);

/* Effects */
function confetti(){
    const c=document.createElement("div");
    c.className="confetti";
    c.style.left=Math.random()*100+"vw";
    c.style.background=`hsl(${Math.random()*360},100%,50%)`;
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),3000);
}
function sparkle(){
    const s=document.createElement("div");
    s.className="sparkle";
    s.style.left=Math.random()*100+"vw";
    s.style.top=Math.random()*100+"vh";
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),1500);
}
function balloon(){
    const b=document.createElement("div");
    b.className="balloon";
    b.style.left=Math.random()*100+"vw";
    b.style.background=`hsl(${Math.random()*360},100%,50%)`;
    document.body.appendChild(b);
    setTimeout(()=>b.remove(),8000);
}

/* Typewriter */
function typeText(el,text,speed=20){
    el.innerText="";
    let i=0;
    const t=setInterval(()=>{
        el.innerText+=text.charAt(i);
        i++;
        if(i>=text.length)clearInterval(t);
    },speed);
}

/* Button steps */
btn.onclick=()=>{
step++;

if(step===1){
title.innerText="Happiest birthday my cutu lil princess üíñ";
btn.innerText="Click for decoration";
}

else if(step===2){
title.innerText="Decorations ‚ú®";
btn.innerText="Click for balloons";
setInterval(confetti,120);
setInterval(sparkle,200);
}

else if(step===3){
title.innerText="Balloons üéà";
btn.innerText="Click for cake";
setInterval(balloon,1000);
}

else if(step===4){
title.innerText="Cake time üç∞";
btn.innerText="Click for surprise";
cake.style.display="block";
}

else if(step===5){
cake.style.display="none";
title.innerText="Surprise üíñ";
btn.innerText="Click for message";
slideshow.style.display="block";
music.play();
setInterval(()=>{
slides[slide].classList.remove("active");
slide=(slide+1)%slides.length;
slides[slide].classList.add("active");
},3000);
}

else if(step===6){
btn.style.display="none";
slideshow.style.display="none";
envelope.style.display="block";
setTimeout(()=>envelope.style.transform="scaleY(1)",50);

typeText(envelope,`Hi my pearlu,

Tired. Done with life. But NAAAACHOOOOOO ITS MY PAALUS 18TH BIRTHDAY SLAYYYYYY. Happiessttt 18th birthday my moonlight. Sad that im no more part of your life. I desperately want you to be mine for life but k. You've always been bestest person. You've always been sweetest person even when I used to yell. You'll always be the person that ill adore. Plus I learnt so many things from you.

This is genuinely coming from my heart. I was a different person when I met you and a different person now in good terms. At times I was toxic I agree in fact we were equally. Right now you can call me the happiest person on this planet earth because im talking to you.

You genuinely shaped me to be a better person. You were there in my lows and highs. Honestly I had goals in life because of you. I saved money, studied hard, and from a failure student you brought me to a guy scoring 81 percent.

You've got beautiful eyes. Your eyes have a chotu si world and mine has your beauty. You are the prettiest, sweetest and most annoying person I ever met.

I love you till the ocean runs dry. Once again happiest 18th birthday. üíñ`,15);
}
};
</script>
</body>
</html>
